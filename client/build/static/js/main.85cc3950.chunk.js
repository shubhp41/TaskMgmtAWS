(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,n){},118:function(e,t,n){},124:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(25),r=n.n(s),o=(n(116),n(34)),i=n(15),l=n(12),u=n(5),d=Object(a.createContext)(),j=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(l.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),j=i[0],b=i[1],O=Object(a.useState)(""),p=Object(l.a)(O,2),h=p[0],f=p[1],x=Object(a.useState)(null),m=Object(l.a)(x,2),g=m[0],v=m[1],k=Object(a.useState)(null),T=Object(l.a)(k,2),w=T[0],y=T[1],S=Object(a.useState)(""),D=Object(l.a)(S,2),C=D[0],N=D[1],I=Object(a.useState)(""),E=Object(l.a)(I,2),q=E[0],W=E[1],Q=Object(a.useState)(!1),U=Object(l.a)(Q,2),F=U[0],A=U[1],P=Object(a.useState)(""),B=Object(l.a)(P,2),R={tasks:s,setTasks:r,newTaskTitle:j,setNewTaskTitle:b,newTaskDescription:h,setNewTaskDescription:f,selectedFile:g,setSelectedFile:v,selectedTask:w,setSelectedTask:y,editTaskTitle:C,setEditTaskTitle:N,editTaskDescription:q,setEditTaskDescription:W,openDialog:F,setOpenDialog:A,status:B[0],setStatus:B[1]};return Object(u.jsx)(d.Provider,{value:R,children:t})},b=n(29),O=(n(118),n(179)),p=n(180),h=n(58),f=n(171),x=n(181),m=n(182),g=n(183),v=n(189),k=n(184),T=n(185),w=n(1),y=n.n(w),S=n(4),D=n(188).a.create({baseURL:"http://44.203.120.46:3001"}),C=function(){var e=Object(S.a)(y.a.mark((function e(t,n,a){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.get("/todos",{headers:{"Content-Type":"application/json"},params:{uniqueId:t}});case 3:c=e.sent,n&&n(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a&&a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(S.a)(y.a.mark((function e(t,n,a){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("/todo/new",t,{headers:{"Content-Type":"application/json"}});case 3:c=e.sent,n&&n(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a&&a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),I=n(187),E=n(166),q=n(168),W=n(170),Q=n(172),U=(n(124),n(53)),F=n(91),A=Object(F.a)({apiKey:"AIzaSyDIErwqqAaCXlQjeQqSuvfimDYO5ED4tig",authDomain:"fir-auth-yt-78d6d.firebaseapp.com",projectId:"fir-auth-yt-78d6d",storageBucket:"fir-auth-yt-78d6d.appspot.com",messagingSenderId:"668109464275",appId:"1:668109464275:web:4f4648eefb3d7797786a26"}),P=Object(U.b)(A),B=Object(a.createContext)(),R=function(e){var t=e.children,n=Object(a.useState)({}),c=Object(l.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(),i=Object(l.a)(o,2),d=i[0],j=i[1],b=Object(a.useState)(),O=Object(l.a)(b,2),p=O[0],h=O[1];return Object(a.useEffect)((function(){var e=Object(U.c)(P,(function(e){console.log(e),r(e)}));return function(){e()}}),[]),Object(u.jsx)(B.Provider,{value:{createUser:function(e,t){return Object(U.a)(P,e,t)},user:s,logout:function(){return Object(U.e)(P)},signIn:function(e,t){return Object(U.d)(P,e,t)},uniqueId:d,setUniqueId:j,uniqueName:p,setUniqueName:h},children:t})},_=function(){return Object(a.useContext)(B)},G=Object(E.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,marginRight:e.spacing(2)},username:{marginRight:e.spacing(2)},logoutButton:{textTransform:"none"},logoutIcon:{marginRight:e.spacing(1)}}})),J=function(){var e=_(),t=e.uniqueName,n=(e.user,e.logout),a=Object(i.o)(),c=G(),s=function(){var e=Object(S.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:a("/"),console.log("You are logged out"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:c.root,children:Object(u.jsx)(q.a,{position:"static",children:Object(u.jsxs)(W.a,{children:[Object(u.jsx)(h.a,{variant:"h6",className:c.title,children:"Todo App"}),Object(u.jsx)(h.a,{variant:"body1",className:c.username,children:t}),Object(u.jsx)(f.a,{color:"inherit",onClick:s,className:c.logoutButton,startIcon:Object(u.jsx)(Q.a,{className:c.logoutIcon}),children:"Logout"})]})})})},L=n(191),Y=n(173),z=n(174),H=n(175),K=n(177),M=n(176),X=n(178),V=Object(E.a)((function(e){return{drawer:{width:240},drawerPaper:{width:240}}})),Z=function(){var e=V();return Object(u.jsx)(L.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:Object(u.jsxs)(Y.a,{children:[Object(u.jsxs)(z.a,{button:!0,component:o.b,to:"/home",children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(M.a,{})}),Object(u.jsx)(K.a,{primary:"Home"})]}),Object(u.jsxs)(z.a,{button:!0,component:o.b,to:"/home",children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(X.a,{})}),Object(u.jsx)(K.a,{primary:"Add Task"})]}),Object(u.jsxs)(z.a,{button:!0,component:o.b,to:"/tasks",children:[Object(u.jsx)(H.a,{children:Object(u.jsx)(X.a,{})}),Object(u.jsx)(K.a,{primary:"Tasks"})]})]})})},$=function(){var e=Object(a.useContext)(d),t=e.tasks,n=e.setTasks,c=(e.newTaskTitle,e.setNewTaskTitle,e.newTaskDescription,e.setNewTaskDescription,e.selectedFile,e.setSelectedFile,e.selectedTask),s=e.setSelectedTask,r=e.editTaskTitle,o=e.setEditTaskTitle,i=e.editTaskDescription,l=e.setEditTaskDescription,j=e.openDialog,w=e.setOpenDialog,y=e.status,S=e.setStatus,N=_().uniqueId;console.log("GETTTTTTTTTT",N),Object(a.useEffect)((function(){C(N,(function(e){console.log("response of get todo",e),n(e.data)}),(function(e){console.log(e)}))}),[]);return console.log(t),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J,{}),Object(u.jsx)(Z,{}),0!=t.length?t.map((function(e){return Object(u.jsxs)(O.a,{className:"task-card",onClick:function(){return function(e){s(e),o(e.title),l(e.description),w(!0)}(e)},children:[Object(u.jsxs)(p.a,{children:[Object(u.jsx)(h.a,{variant:"h6",children:e.title}),Object(u.jsx)(h.a,{variant:"body1",children:e.description}),Object(u.jsx)(h.a,{variant:"body2",className:e.completed?"status-completed":"status-pending",onClick:function(a){a.stopPropagation(),function(e){var a=!e.completed;S(!e.completed),D.put("/api/status/".concat(e.id),{completed:a,user_id:N}).then((function(c){var s=t.map((function(t){return t.id===e.id?Object(b.a)(Object(b.a)({},t),{},{completed:a}):t}));n(s)})).catch((function(e){console.error(e)}))}(e)},children:e.completed?"Completed":"Pending"})]}),Object(u.jsx)("div",{className:"task-actions",children:Object(u.jsx)(f.a,{variant:"outlined",color:"primary",onClick:function(a){var c;a.stopPropagation(),c=e.id,D.delete("/api/tasks/".concat(c)).then((function(){var e=t.filter((function(e){return e.id!==c}));n(e)})).catch((function(e){console.error(e)}))},children:"Delete"})})]},e.id)})):Object(u.jsx)(O.a,{className:"task-card",children:Object(u.jsx)(h.a,{variant:"h6",children:"No Task For Today"})}),Object(u.jsxs)(x.a,{open:j,onClose:function(){return w(!1)},children:[Object(u.jsx)(m.a,{children:"Edit Task"}),Object(u.jsxs)(g.a,{children:[Object(u.jsx)(v.a,{label:"Title",fullWidth:!0,value:r,onChange:function(e){return o(e.target.value)}}),Object(u.jsx)(v.a,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:i,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)(k.a,{control:Object(u.jsx)(I.a,{checked:y,onChange:function(e){S(e.target.checked),console.log(e.target.checked)}}),label:"Completed"})]}),Object(u.jsxs)(T.a,{children:[Object(u.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){D.put("/api/tasks/".concat(c.id),{title:r,description:i,completed:y,user_id:N}).then((function(e){var a=t.map((function(e){return e.id===c.id?Object(b.a)(Object(b.a)({},e),{},{title:r,description:i}):e}));C(N,(function(e){console.log("response of get todo",e),n(e.data)}),(function(e){console.log(e)})),n(a),s(null),o(""),l(""),w(!1)})).catch((function(e){console.error(e)}))},children:"Update"}),Object(u.jsx)(f.a,{variant:"outlined",color:"secondary",onClick:function(){return w(!1)},children:"Cancel"})]})]})]})},ee=n(190),te=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(l.a)(s,2),d=r[0],j=r[1],b=Object(a.useState)(""),O=Object(l.a)(b,2),p=(O[0],O[1]),x=Object(i.o)(),m=_(),g=m.signIn,k=m.uniqueId,T=m.setUniqueId,w=m.setUniqueName,D=function(){var e=Object(S.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(""),e.prev=2,e.next=5,g(n,d);case 5:a=e.sent,T(a.user.reloadUserInfo.localId),w(a.user.reloadUserInfo.email),x("/home"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),p(e.t0.message),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return console.log("In signin",k),Object(u.jsxs)(ee.a,{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,mx:"auto",my:16,p:4,border:"1px solid #ccc",borderRadius:4,boxShadow:1,children:[Object(u.jsx)(h.a,{variant:"h4",gutterBottom:!0,children:"Sign in to your account"}),Object(u.jsxs)(h.a,{variant:"body1",gutterBottom:!0,children:["Don't have an account yet?"," ",Object(u.jsx)(o.b,{to:"/signup",className:"underline",children:"Sign up."})]}),Object(u.jsxs)("form",{onSubmit:D,style:{width:"100%"},children:[Object(u.jsx)(ee.a,{mt:2,children:Object(u.jsx)(v.a,{label:"Email Address",value:n,onChange:function(e){return c(e.target.value)},variant:"outlined",fullWidth:!0})}),Object(u.jsx)(ee.a,{mt:2,children:Object(u.jsx)(v.a,{label:"Password",value:d,onChange:function(e){return j(e.target.value)},variant:"outlined",type:"password",fullWidth:!0})}),Object(u.jsx)(ee.a,{mt:2,children:Object(u.jsx)(f.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Sign In"})})]})]})},ne=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(l.a)(s,2),d=r[0],j=r[1],b=Object(a.useState)(""),O=Object(l.a)(b,2),p=O[0],x=O[1],m=Object(a.useState)(""),g=Object(l.a)(m,2),k=(g[0],g[1]),T=_().createUser,w=Object(i.o)(),D=function(){var e=Object(S.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(""),e.prev=2,e.next=5,T(n,d);case 5:w("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),k(e.t0.message),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(ee.a,{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:400,mx:"auto",my:16,p:4,border:"1px solid #ccc",borderRadius:4,boxShadow:1,children:[Object(u.jsx)(h.a,{variant:"h4",gutterBottom:!0,children:"Sign up for a free account"}),Object(u.jsxs)(h.a,{variant:"body1",gutterBottom:!0,children:["Already have an account yet?"," ",Object(u.jsx)(o.b,{to:"/",className:"underline",children:"Sign in."})]}),Object(u.jsxs)("form",{onSubmit:D,style:{width:"100%"},children:[Object(u.jsx)(ee.a,{mt:2,children:Object(u.jsx)(v.a,{label:"Email Address",value:n,onChange:function(e){return c(e.target.value)},variant:"outlined",fullWidth:!0})}),Object(u.jsx)(ee.a,{mt:2,children:Object(u.jsx)(v.a,{label:"Password",value:d,onChange:function(e){return j(e.target.value)},variant:"outlined",type:"password",fullWidth:!0})}),Object(u.jsx)(ee.a,{mt:2,children:Object(u.jsx)(v.a,{label:"Password",value:p,onChange:function(e){return x(e.target.value)},variant:"outlined",type:"password",fullWidth:!0})}),Object(u.jsx)(ee.a,{mt:2,children:Object(u.jsx)(f.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Sign Up"})})]})]})},ae=function(e){var t=e.children;return _().user?t:Object(u.jsx)(i.a,{to:"/"})},ce=n(17),se=(n(131),n(186)),re=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1],Object(a.useState)(null)),c=Object(l.a)(n,2),s=c[0],r=c[1],o=_().uniqueId;console.log("UNIQQQQQQQQQQQ",o);var i=Object(a.useContext)(d),j=(i.tasks,i.setTasks),b=i.newTaskTitle,O=i.setNewTaskTitle,p=i.newTaskDescription,h=i.setNewTaskDescription;i.selectedFile,i.setSelectedFile,i.selectedTask,i.setSelectedTask,i.editTaskTitle,i.setEditTaskTitle,i.editTaskDescription,i.setEditTaskDescription,i.openDialog,i.setOpenDialog,i.status,i.setStatus;Object(a.useEffect)((function(){C(o,(function(e){console.log("response of get todo",e),j(e.data)}),(function(e){console.log(e)}))}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J,{}),Object(u.jsx)(Z,{}),Object(u.jsx)(se.a,{maxWidth:"sm",className:"app-container",children:Object(u.jsxs)("form",{className:"add-task-form",children:[Object(u.jsx)(v.a,{label:"Title",fullWidth:!0,value:b,onChange:function(e){return O(e.target.value)}}),Object(u.jsx)(v.a,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:p,onChange:function(e){return h(e.target.value)}}),Object(u.jsxs)("div",{className:"upload-file-container",children:[Object(u.jsx)("input",{type:"file",onChange:function(e){r(e.target.files[0]),console.log("e.target.files[0]",e.target.files[0])}}),Object(u.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){if(console.log("This is the uploaded file ",s),s){var e=new FormData;e.append("image",s),console.log(e),D.post("/upload",e).then((function(e){var t=e.data.extractedText;console.log(e.data.extractedText);var n=t.split("Title - ")[1].split("\n")[0];O(n);var a=t.split("Description - ")[1];h(a),N({user_id:o,title:n,description:a},(function(e){console.log("This is response of add todo",e),j((function(t){return[].concat(Object(ce.a)(t),[e.data])})),O(""),h("")}),(function(e){console.log("Error in Add todo",e)}))})).catch((function(e){console.error(e)}))}},children:"Upload File"})]}),Object(u.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){var e={user_id:o,title:b,description:p};console.log(o),N(e,(function(e){console.log("This is response of add todo",e),j((function(t){return[].concat(Object(ce.a)(t),[e.data])})),O(""),h("")}),(function(e){console.log("Error in Add todo",e)}))},children:"Add Task"})]})})]})};var oe=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(o.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",element:Object(u.jsx)(R,{children:Object(u.jsx)(te,{})})}),Object(u.jsx)(i.b,{path:"/signup",element:Object(u.jsx)(R,{children:Object(u.jsx)(ne,{})})}),Object(u.jsx)(i.b,{path:"/home",element:Object(u.jsx)(R,{children:Object(u.jsx)(j,{children:Object(u.jsx)(ae,{children:Object(u.jsx)(re,{})})})})}),Object(u.jsx)(i.b,{path:"/tasks",element:Object(u.jsx)(R,{children:Object(u.jsx)(j,{children:Object(u.jsx)(ae,{children:Object(u.jsx)($,{})})})})})]})})})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(oe,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.85cc3950.chunk.js.map